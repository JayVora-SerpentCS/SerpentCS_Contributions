<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record model="ir.ui.view" id="view_course_type_tree">
        <field name="name">view.course.type.tree</field>
        <field name="model">course.type</field>
        <field name="arch" type="xml">
            <tree string="Course Type" editable="top">
                <field name="name" />
                <field name="code" />
            </tree>
        </field>
    </record>
    <!-- Action Of Form & Tree Views Of Medical Details Button -->
    <record id="action_course_type_list" model="ir.actions.act_window">
        <field name="name">Course Type</field>
        <field name="res_model">course.type</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_course_type_tree" />
    </record>
    <menuitem
        id="menu_course_item"
        name="Course Type"
        parent="hr_recruitment.menu_hr_recruitment_configuration"
        action="action_course_type_list"
    />
    <record model="ir.ui.view" id="view_training_courses_tree">
        <field name="name">view.training.courses.tree</field>
        <field name="model">training.courses</field>
        <field name="arch" type="xml">
            <tree string="Training Courses">
                <field name="name" />
                <field name="course_type_id" />
                <field name="job_id" />
                <field name="department" />
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="view_training_courses_form">
        <field name="name">view.training.courses.form</field>
        <field name="model">training.courses</field>
        <field name="arch" type="xml">
            <form string="Training Courses">
                <sheet>
                    <group>
                        <group>
                            <field name="name" required="1" />
                            <field name="course_type_id" required="1" />
                            <field name="job_id" required="1" />
                        </group>
                        <group>
                            <field name="department" />
                            <label for="duration" />
                            <div>
                                <field name="duration" required="1" class="oe_inline"/>
                                <field name="duration_type" required="1" class="oe_inline"/>
                            </div>
                            <field name="training_location" />
                        </group>
                        <field name="local_short_description" placeholder="Add the Course Description"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Action Of Form & Tree Views Of Prev. Occupation Button -->
    <record id="action_training_courses_list" model="ir.actions.act_window">
        <field name="name">Training Courses</field>
        <field name="res_model">training.courses</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_training_courses_tree" />
    </record>
    <menuitem
        id="menu_training_main"
        name="Training"
        parent="hr_recruitment.menu_hr_recruitment_root"
    />
    <menuitem
        id="menu_training_course"
        name="Training Course"
        parent="menu_training_main"
        action="action_training_courses_list"
    />
    <record model="ir.ui.view" id="view_training_class_form">
        <field name="name">view.training.class.form</field>
        <field name="model">training.class</field>
        <field name="arch" type="xml">
            <form string="Training" version="9.0">
                <header>
                    <button
                        name="action_to_be_approve"
                        type="object"
                        string="Send for Approval"
                        class="oe_highlight"
                        invisible="state != 'draft'"
                    />
                        <!-- states="draft" -->
                    <button
                        name="action_approve"
                        type="object"
                        string="Approve"
                        class="oe_highlight"
                        invisible="state != 'to_be_approved'"
                    />
                        <!-- states="to_be_approved" -->
                    <button
                        name="action_completed"
                        type="object"
                        string="Mark as Complete"
                        class="oe_highlight"
                        invisible="state != 'approved'"
                    />
                        <!-- states="approved" -->
                    <button
                        name="action_cancel"
                        type="object"
                        string="Cancel"
                        invisible="state == 'cancel'"
                    />
                        <!-- states="draft,to_be_approved,approved" -->
                    <field
                        name="state"
                        widget="statusbar"
                        statusbar_visible="draft,to_be_approved,approved,completed"
                        statusbar_colors='{"draft":"blue"}'
                    />
                </header>
                <sheet>
                    <group>
                        <group>
                            <field
                                name="course_id"
                                required="1"
                                readonly="state in ('approved', 'completed', 'cancel')"
                                tabindex='1'
                            />
                                <!-- attrs="{'readonly': [('state', 'in', ['approved', 'completed', 'cancel'])]}" -->
                            <field name="department" tabindex="3"/>
                            <label string="Training Date" for="training_start_date"/>
                            <div>
                                <field name="training_start_date" readonly="state not in ('draft','to_be_approved')" tabindex="5" widget="daterange" required="training_start_date or training_end_date" options="{'end_date_field': 'training_end_date'}"/>
                                <field name="training_end_date" force_save='1' tabindex="6"  invisible="1"/>
                            </div>
                            <field name="training_location" tabindex="7"/>
                        </group>
                        <group>
                            <field name="course_categ_id" tabindex="2"/>
                            <field name="job_id" tabindex="4"/>
                            <field
                                name="training_attendees"
                                readonly="state in ('approved', 'completed', 'cancel')"
                                tabindex="8"
                            />
                                <!-- attrs="{'readonly': [('state', 'in', ['approved', 'completed', 'cancel'])]}" -->
                        </group>
                    </group>
                    <notebook>
                        <page string="List of Attendees" name="list_of_attendees">
                            <field
                                name="attendees_ids"
                                colspan="4"
                                nolabel="1"
                                readonly="state in ('draft', 'to_be_approved', 'completed', 'cancel')"
                            />
                                <!-- attrs="{'readonly': [('state', 'in', ['draft', 'to_be_approved', 'completed', 'cancel'])]}" -->
                        </page>
                        <page string="Description" name="description">
                            <field name="description" nolabel="1" colspan="4" />
                        </page>
                    </notebook>
                </sheet>
                <div class="o_attachment_preview" />
                <div class="oe_chatter">
                    <field
                        name="message_follower_ids"
                        widget="mail_followers"
                        groups="base.group_user"
                    />
                    <field name="activity_ids" widget="mail_activity" />
                    <field name="message_ids" widget="mail_thread" />
                </div>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="view_training_class_tree">
        <field name="name">view.training.class.tree</field>
        <field name="model">training.class</field>
        <field name="arch" type="xml">
            <tree string="Training">
                <field name="course_id" />
                <field name="department" />
                <field name="job_id" />
                <field name="training_start_date" />
                <field name="training_end_date" />
                <field name="state" />
            </tree>
        </field>
    </record>
    <!-- Action Of Form & Tree Views Of Medical Details Button -->
    <record id="action_training_class_list" model="ir.actions.act_window">
        <field name="name">Training</field>
        <field name="res_model">training.class</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_training_class_tree" />
    </record>
    <menuitem
        id="menu_training"
        name="Training"
        parent="menu_training_main"
        action="action_training_class_list"
    />
    <record model="ir.ui.view" id="view_list_of_attendees_form">
        <field name="name">view.list.of.attendees.form</field>
        <field name="model">list.of.attendees</field>
        <field name="arch" type="xml">
            <form string="Training">
                <header>
                    <button
                        name="action_awaiting_training_start"
                        type="object"
                        string="Awaiting For Training Start"
                        class="oe_highlight"
                        invisible="state != 'draft'"
                    />
                        <!-- states="draft" -->
                    <button
                        name="action_in_training"
                        type="object"
                        string="In Training"
                        class="oe_highlight"
                        invisible="state not in ('awaiting_training_start', 'in_complete')"
                    />
                        <!-- states="awaiting_training_start" -->
                    <button
                        name="action_training_completed"
                        type="object"
                        string="Training Completed"
                        class="oe_highlight"
                        invisible="state != 'in_training'"
                    />
                        <!-- states="in_training" -->
                    <button
                        name="action_in_complete"
                        type="object"
                        string="Training Incomplete"
                        class="oe_highlight"
                        invisible="state != 'in_training'"
                    />
                        <!-- states="in_training" -->
                    <button
                        name="action_cancel"
                        type="object"
                        string="Cancel"
                        invisible="state != ('draft','awaiting_training_start', 'to_be_approved', 'approved')"
                    />
                        <!-- states="draft,awaiting_training_start,to_be_approved,approved" -->
                    <field
                        name="state"
                        widget="statusbar"
                        statusbar_visible="draft,in_training,train_completed"
                        statusbar_colors='{"draft":"blue"}'
                    />
                </header>
                <sheet>
                    <group col="4" colspan="4">
                        <group col="2" colspan="2">
                            <field name="employee_id" required="1" readonly="state != 'draft'"/>
                        </group>
                        <group col="2" colspan="2">
                            <field
                                name="attendees_image"
                                style="padding-left:40px"
                                class="oe_avatar"
                                widget="image"
                                readonly="1"
                                nolabel="1"
                            />
                        </group>
                    </group>
                    <group col="4" colspan="4">
                        <field name="training_start_date" readonly="state not in ('draft','in_complete')"/>
                        <field
                            name="date_of_arrival"
                            required="state == 'awaiting_training_start'"
                            readonly="state not in 'awaiting_training_start'"
                        />
                            <!-- attrs="{'required': [('state', '=', 'awaiting_training_start')]}" -->
                        <field name="training_end_date" readonly="state not in ('draft','in_complete')"/>
                        <field name="class_id" invisible="1" />
                    </group>
                </sheet>
                <div class="o_attachment_preview" />
                <div class="oe_chatter" style="display:block;">
                    <field
                        name="message_follower_ids"
                        widget="mail_followers"
                        groups="base.group_user"
                    />
                    <field name="activity_ids" widget="mail_activity" />
                    <field name="message_ids" widget="mail_thread" />
                </div>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="view_list_of_attendees_tree">
        <field name="name">view.list.of.attendees.tree</field>
        <field name="model">list.of.attendees</field>
        <field name="arch" type="xml">
            <tree string="Training">
                <field name="employee_id" />
                <field name="training_start_date" />
                <field name="training_end_date" />
                <field name="state" />
            </tree>
        </field>
    </record>
</odoo>
